{% extends 'layout/base.html' %}

{% block content %}
{% include 'components/navigation.html' %}
<div class="container">
  <h2 class="mt-4">Admin Panel</h2>

  {% if added == 1 %}
  <div class="alert alert-success alert-dismissible" role="addedAlert" id="addedAlert">
    <strong>Success!</strong> Coffee added.
    <button type="button" class="btn-close" data-bs-dismiss="addedAlert" aria-label="Close"></button>
  </div>
  {% elif added == 0 %}
  <div class="alert alert-danger alert-dismissible" role="addedAlert" id="addedAlert">
    <strong>Oops!</strong> Failed to add.
    <button type="button" class="btn-close" data-bs-dismiss="addedAlert" aria-label="Close"></button>
  </div>
  {% endif %}

  {% if deleted == 1 %}
  <div class="alert alert-success alert-dismissible" role="deletedAlert" id="deletedAlert">
    <strong>Success!</strong> Coffee deleted.
    <button type="button" class="btn-close" data-bs-dismiss="deletedAlert" aria-label="Close"></button>
  </div>
  {% elif deleted == 0 %}
  <div class="alert alert-danger alert-dismissible" role="deletedAlert" id="deletedAlert">
    <strong>Oops!</strong> Failed to delete.
    <button type="button" class="btn-close" data-bs-dismiss="deletedAlert" aria-label="Close"></button>
  </div>
  {% endif %}

  <div class="card mt-4">
    <h5 class="card-header">
      <form method="POST" action="/admin/edit-coffee" id="selectForm">
        <div class="d-flex align-items-center">
          <select class="form-select col" id="edit-coffee" aria-label="Edit Coffee" name="coffeeControl">
            {% for coffee in coffeeList %}
              <option value="{{coffee._id}}">{{coffee.product_name}}</option>
            {% endfor %}
          </select>
          <button type="submit" class="btn btn-primary edit-btn">Edit</button>
          <a href="{{url_for('adminAddCoffee', user_id=user_id)}}">
            <button type="button" class="btn btn-success edit-btn">Add New</button>
          </a>
        </div>
      </form>
    </h5>
  </div>
</div>
{% endblock %}